#!/usr/bin/env node
var https = require('https');
var fs = require('fs');
var debug = require('debug')('my-application');
var app = require('../server');

var privateKey = './ssl/key.pem';
var publicCert = './ssl/public.cert';
var publicCertPassword = '12345';
var httpsConfig = {
    key: fs.readFileSync(privateKey),
    cert: fs.readFileSync(publicCert),
    passphrase: publicCertPassword
};

var server = app.listen(3000, function() {
    debug('Express server listening on port ' + server.address().port);
});

var sslServer = https.createServer(httpsConfig, app);
sslServer.listen(3443, function() {
    debug('Express SSL server listening on port ' + sslServer.address().port);
});
